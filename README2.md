# Conception Cyber-Physique

## Liens
- Nom du canal Slack : si5-cdscp-soundguard &rarr; [Canal Slack](https://app.slack.com/client/TMW14CTRD/C05TN5MAU0K)
- GitHub &rarr; [Lien GitHub](https://github.com/SAISSIOMAR/ConceptionCyberPhysique/)

## Étudiants
- Marouane Boubia
- Omar Saissi
- Aymane ElFiguigui
- Youssef ElGarmit

## Numéro du groupe : 5

## Titre temporaire du service ambiant
AirGuard : Système Connecté de Gestion de la Qualité de l'Air dans les Bureaux et les Établissements Éducatifs

## Environnements de mise en œuvre
- Salle de classe
- Bureau

## Domaine
Système de gestion environnementale, Internet des Objets (IoT), Cyber-Physique

## Description
Le projet "AirGuard" est une initiative IoT conçue pour optimiser la qualité de l'air dans les salles de classe, 
garantissant un environnement propice à l'apprentissage. Ce système monitore continuellement et compare la qualité 
de l'air intérieur et extérieur. Il tient compte de plusieurs facteurs tels que la météo, le nombre de personnes 
dans la salle et est aussi lié au planning de la salle pour une utilisation optimale. Grâce à divers capteurs et 
une caméra, le système suggère des actions proactives, notamment l'ouverture des fenêtres et des portes afin 
d'assurer une qualité d'air idéale

## Motivations

L'initiative de notre projet "AirGuard" découle directement de la récente mise à jour des réglementations concernant la surveillance de la qualité de l'air intérieur dans les établissements éducatifs et de bureau. À partir du 1er janvier 2023, il est désormais impératif de mettre en œuvre un plan d'action visant à améliorer la qualité de l'air intérieur, incluant des évaluations annuelles des systèmes de ventilation, des autodiagnostics tous les quatre ans, et des campagnes de mesure des polluants à des étapes clés de la vie des bâtiments. Vous pouvez trouver tous les détails de cette nouvelle réglementation sur le site du Ministère de la Transition Écologique [ici](https://www.ecologie.gouv.fr/qualite-lair-interieur).

Les motivations principales derrière le projet "AirGuard" sont les suivantes :

1. **Conformité aux Normes :** "AirGuard" est conçu pour garantir que les établissements éducatifs et de bureau respectent les normes et régulations en matière de qualité de l'air intérieur. En surveillant en temps réel la qualité de l'air, il aide à assurer que les environnements de travail et d'apprentissage sont en conformité avec les normes établies, évitant ainsi d'éventuelles sanctions. Cette solution s'aligne rigoureusement sur les réglementations locales et nationales en vigueur.

2. **Santé et Bien-être des Occupants :** En maintenant un environnement intérieur propre et sain, "AirGuard" vise à garantir un espace d'apprentissage et de travail favorable à la santé et au bien-être des élèves et des employés. La surveillance en temps réel permet de détecter rapidement les problèmes potentiels et de prendre des mesures correctives pour maintenir des conditions de qualité de l'air optimales. Cela contribue à améliorer la concentration et à favoriser de meilleures performances académiques et professionnelles.

3. **Optimisation de l'Enseignement :** "AirGuard" favorise une meilleure concentration en assurant un environnement intérieur sain. En créant des conditions idéales pour l'apprentissage, il contribue à des performances académiques accrues. Les données en temps réel permettent d'identifier les domaines à améliorer pour optimiser davantage l'enseignement et l'apprentissage.

4. **Sensibilisation :** "AirGuard" a pour objectif d'éduquer les élèves et le personnel sur l'importance de la qualité de l'air intérieur et de ses implications sur la santé. En rendant les données de qualité de l'air accessibles et compréhensibles, il sensibilise les occupants aux bénéfices d'un air propre, contribuant ainsi à une meilleure appréciation de l'environnement intérieur.

## Analyse de l'Existant

Avant de plonger dans les détails de la solution "AirGuard", il est essentiel de comprendre la situation actuelle en matière de surveillance de la qualité de l'air intérieur dans les établissements éducatifs et de bureau. Cette analyse de l'existant met en lumière les défis et les opportunités qui ont motivé la création du projet "AirGuard".

### État Actuel

Actuellement, une autre solution IoT de surveillance de la qualité de l'air intérieur, nommée "AirMonitor", est présente dans certains bureaux d'entreprise. "AirMonitor" utilise des capteurs de qualité de l'air pour mesurer les niveaux de CO2, la température et l'humidité. Cependant, bien que cette solution offre des données en temps réel, elle présente des limitations importantes. Elle se concentre principalement sur la collecte des données et ne fournit pas d'alertes ni d'actions automatisées en réponse aux problèmes détectés.
Une autre solution IoT de surveillance de la qualité de l'air intérieur, appelée "AirSense", existe aussi et est déjà déployée dans certaines écoles. "AirSense" utilise des capteurs de qualité de l'air pour mesurer des paramètres tels que la concentration de CO2, les particules fines et la température. Cependant, cette solution présente des limitations importantes. Elle offre une surveillance périodique avec des intervalles de mesure toutes les deux heures, ce qui signifie que les problèmes de qualité de l'air peuvent ne pas être détectés en temps réel. De plus, elle ne fournit pas d'alertes automatiques en cas de dépassement des normes.

### Défis

Les défis associés à "AirMonitor", "AirSense" et à d'autres solutions similaires comprennent :

1. **Manque d'Actions Proactives :** "AirMonitor" se limite à la collecte de données sans prendre d'actions proactives pour améliorer la qualité de l'air. Les problèmes détectés sont généralement signalés manuellement au personnel, ce qui peut entraîner des délais dans la résolution des problèmes.

2. **Complexité d'Intégration :** Certaines solutions IoT existantes peuvent être difficiles à intégrer avec d'autres systèmes de gestion de bâtiments ou de sécurité, ce qui peut rendre la surveillance de la qualité de l'air moins cohérente et moins efficace.

3. **Manque de Surveillance en Temps Réel :** "AirSense" ne permet pas une surveillance en temps réel, ce qui signifie que les variations à court terme de la qualité de l'air peuvent échapper à la détection.

4. **Réactivité Limitée :** En raison du délai entre les mesures, "AirSense" ne permet pas de réagir immédiatement en cas de dépassement des normes de qualité de l'air.

5. **Complexité d'Utilisation :** Certaines solutions IoT existantes peuvent être complexes à configurer et à utiliser, ce qui peut décourager les écoles et les bureaux de les adopter pleinement.


### Opportunités pour AirGuard

Le projet "AirGuard" se positionne pour résoudre ces défis en introduisant une solution IoT de surveillance de la qualité de l'air intérieur en temps réel. Il offre une surveillance continue et réactive, tout en étant convivial et facile à intégrer dans les systèmes existants, garantissant ainsi un environnement de travail sain et productif dans les bureaux d'entreprise et les établissements éducatifs. "AirGuard" vise à combler les lacunes des solutions actuellement disponibles en fournissant des actions automatisées pour améliorer la qualité de l'air et en offrant des alertes en temps réel en cas de dépassement des normes, assurant ainsi une solution complète et efficace pour la gestion de la qualité de l'air.

## Schéma Architectural de Principe

AirGuard repose sur une architecture à trois niveaux :
1. **Capteurs et Dispositifs :** Des capteurs IoT de qualité de l'air sont déployés dans les salles de classe et les bureaux. Ces capteurs surveillent en continu les paramètres environnementaux, tels que les niveaux de CO2, la température et l'humidité.
2. **Unité de Contrôle :** Une unité centrale de traitement, telle qu'un microcontrôleur ou un mini-ordinateur, reçoit les données des capteurs IoT en temps réel. Cette unité analyse les données, évalue la qualité de l'air, et prend des décisions basées sur les seuils réglementaires et les données météorologiques.
3. **Dispositifs de Contrôle :** Lorsque la qualité de l'air nécessite une action, le système active des dispositifs de contrôle, tels que des systèmes d'aération, des LEDs ou des notifications sonores, pour signaler les recommandations et garantir un environnement sain.


## Éléments techniques pour lever les premiers verrous techniques

### Matériel nécessaire :
- **Capteur de Qualité de l'Air Extérieur :**
   - Description : Ce capteur évalue les niveaux de divers polluants extérieurs, comme l'ozone, le CO2 et les particules fines/larges, pour définir la qualité de l'air extérieur.
   - API : Pour lire les données du capteur de qualité de l'air extérieur, nous pouvons utiliser les interfaces de communication appropriées et des bibliothèques dédiées.

- **Capteur de Qualité de l'Air Intérieur :**
   - Description : Ce capteur mesure les niveaux de dioxyde de carbone (CO2) et d'autres éléments dans la salle, afin de déterminer si une aération est nécessaire.
   - API : Pour lire les données du capteur de qualité de l'air intérieur, nous pouvons utiliser les interfaces de communication appropriées et des bibliothèques dédiées.

- **Capteur Météo Externe :**
   - Description : Intègre les informations météorologiques en temps réel pour décider de l'opportunité d'ouvrir ou de fermer les fenêtres ou portes.
   - API : Pour récupérer les données météorologiques, nous pouvons utiliser des services de météo en ligne ou des capteurs météo appropriés.

- **Caméra de Détection de Personnes :**
   - Description : Estime le nombre d'occupants de la salle pour ajuster les recommandations relatives à la qualité de l'air.
   - API : Pour la caméra de détection de personnes, nous pouvons utiliser des bibliothèques de vision par ordinateur ou des services d'analyse vidéo en temps réel.

- **Liaison à HyperPlanning :**
   - Description : Grâce à une intégration avec HyperPlanning, le dispositif ne sera activé que lorsque la salle est occupée.
   - API : L'intégration avec HyperPlanning peut se faire via des API ou des systèmes de gestion de calendrier appropriés.

- **Détection des Statuts des Portes/Fenêtres :**
   - Description : Le système décide des mesures à prendre également en fonction de l'état actuel des fenêtres ou des portes (ouvertes/fermées).
   - API : Pour la détection des statuts des portes/fenêtres, des capteurs d'ouverture/fermeture peuvent être utilisés, avec des interfaces de communication appropriées.

- **Système de Notification :**
   - Description : Si une intervention est nécessaire, le système informe le professeur et allume un voyant au-dessus des fenêtres ou des portes pour signaler l'action à entreprendre.
   - API : Pour le système de notification, nous pouvons utiliser des protocoles de communication, des dispositifs d'alerte, et des bibliothèques de notification.

### Unité de traitement :
- **Raspberry Pi :**
   - Description : Un mini-ordinateur capable de traiter les données des capteurs, d'exécuter un serveur et de gérer des tâches plus complexes.
   - API : [RaspBerry Pi Documentation](https://www.raspberrypi.com/documentation/pico-sdk/)

- **Carte SD :**
  - Description : Comme nous utilisons un Raspberry Pi, nous aurons besoin d'une carte SD pour stocker le système d'exploitation et notre code.
    
### Connectivité

Pour stocker les données et permettre l'affichage sur un tableau de bord, notre système utilise les éléments suivants :

**Serveur de Données :**
- Description : Un serveur de données est mis en place sur le Raspberry Pi pour collecter les informations des capteurs et les stocker dans une base de données.
- Méthode de Stockage : Les données sont stockées dans une base de données locale, ce qui permet un accès rapide et une utilisation efficace des données en temps réel.

**Tableau de Bord en Temps Réel :**
- Description : Un tableau de bord web interactif est développé sur le Raspberry Pi pour afficher la qualité de l'air intérieur en temps réel et les alertes.
- Technologie Utilisée : Nous utilisons des technologies web courantes telles que HTML, CSS, JavaScript, et des bibliothèques comme Chart.js pour créer des graphiques dynamiques.
- Communication avec le Serveur : Le tableau de bord communique avec le serveur de données pour récupérer les données en temps réel à l'aide d'une API REST.

**Accès Utilisateur :**
- Description : Les utilisateurs peuvent accéder au tableau de bord depuis un navigateur web standard sur n'importe quel appareil connecté au même réseau que le Raspberry Pi.
- Interface Conviviale : L'interface utilisateur est conviviale et intuitive, permettant aux utilisateurs de surveiller facilement le niveau sonore de la salle.

L'ensemble de ce système garantit que les données sont collectées, stockées et affichées de manière transparente pour une gestion efficace du bruit dans l'environnement d'enseignement ou de travail.

### Interface Web/API pour l'Affichage des Données :
- Créez une interface web sur le Raspberry Pi pour afficher les niveaux sonores en temps réel et les alertes.
- Les utilisateurs pourront accéder à cette interface depuis un navigateur pour surveiller le niveau sonore de la salle.

## Exemple d’utilisation de notre projet

**Matériel nécessaire :**
- Raspberry Pi (n'importe quel modèle compatible avec GPIO)
- Capteur de bruit
- LEDs (deux LEDs connectées aux broches GPIO de la Raspberry Pi)

**Bibliothèques :**
- RPi.GPIO : Pour contrôler les broches GPIO de la Raspberry Pi.
- python-mqtt : Pour la communication MQTT avec les capteurs.


## Annexe

**Liens Utiles :**

- [Loi sur la qualité de l'air interieur](https://www.ecologie.gouv.fr/qualite-lair-interieur)
  - Description : Lien vers le site officiel du Ministère de la Transition Écologique français, où vous pouvez trouver des informations sur la réglementation en matière de qualité de l'air intérieur.
 

- [Limitation du Bruit dans les Établissements d'Enseignement](https://www.legifrance.gouv.fr/loda/id/LEGITEXT000005634431)
  - Description : Lien vers la législation française concernant la limitation du bruit dans les établissements d'enseignement. Cette législation peut être utile pour comprendre les normes et les réglementations en vigueur pour les environnements éducatifs.
